import{c as Ee,R as B,u as z,j as p,a as nt,r,b as Ie,P as _,d as R,e as Ve,f as Oe,g as re,h as Ne,i as ne,k as At,l as ir,A as dr,m as _t,n as ur,V as fr,o as mr,p as pr,q as hr,F as vr,D as gr,C as Sr,s as wr,t as Lt,v as br,w as fe,x as we,y as H,z as Mt,B as st,E as vt,G as Dt,H as ee,I as Cr,J as xr,K as yr,L as Tr,M as Fe,N as Be,O as Re,Q as $,S as Ot,T as jt,U as Rr,W as E,X as V,Y as m,Z as $e,_ as W,$ as le,a0 as ae,a1 as Ht,a2 as Er,a3 as kt,a4 as Vt,a5 as Ft,a6 as Bt,a7 as $t}from"./index-DFAsX-7-.js";import{C as Ir,u as Nr,V as Rt,a as Pr,O as Ar,T as Et,M as It,b as _r,c as Lr,d as Nt}from"./ClientTetris-BlTzxwYU.js";import{p as ze,P as Mr,M as Dr}from"./MobileButton-BoUT2dlX.js";function zt(e){const o=e+"CollectionProvider",[t,n]=Ee(o),[s,l]=t(o,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:S,children:h}=g,w=B.useRef(null),b=B.useRef(new Map).current;return p.jsx(s,{scope:S,itemMap:b,collectionRef:w,children:h})};a.displayName=o;const c=e+"CollectionSlot",i=nt(c),f=B.forwardRef((g,S)=>{const{scope:h,children:w}=g,b=l(c,h),x=z(S,b.collectionRef);return p.jsx(i,{ref:x,children:w})});f.displayName=c;const u=e+"CollectionItemSlot",d="data-radix-collection-item",v=nt(u),C=B.forwardRef((g,S)=>{const{scope:h,children:w,...b}=g,x=B.useRef(null),N=z(S,x),M=l(u,h);return B.useEffect(()=>(M.itemMap.set(x,{ref:x,...b}),()=>void M.itemMap.delete(x))),p.jsx(v,{[d]:"",ref:N,children:w})});C.displayName=u;function y(g){const S=l(e+"CollectionConsumer",g);return B.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(S.itemMap.values()).sort((M,A)=>b.indexOf(M.ref.current)-b.indexOf(A.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:f,ItemSlot:C},y,n]}function Or(e){const o=r.useRef({value:e,previous:e});return r.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}var ot="rovingFocusGroup.onEntryFocus",jr={bubbles:!1,cancelable:!0},Pe="RovingFocusGroup",[at,Ut,Hr]=zt(Pe),[kr,Wt]=Ee(Pe,[Hr]),[Vr,Fr]=kr(Pe),Gt=r.forwardRef((e,o)=>p.jsx(at.Provider,{scope:e.__scopeRovingFocusGroup,children:p.jsx(at.Slot,{scope:e.__scopeRovingFocusGroup,children:p.jsx(Br,{...e,ref:o})})}));Gt.displayName=Pe;var Br=r.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:s=!1,dir:l,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:i,onEntryFocus:f,preventScrollOnEntryFocus:u=!1,...d}=e,v=r.useRef(null),C=z(o,v),y=Ve(l),[g,S]=Oe({prop:a,defaultProp:c??null,onChange:i,caller:Pe}),[h,w]=r.useState(!1),b=re(f),x=Ut(t),N=r.useRef(!1),[M,A]=r.useState(0);return r.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(ot,b),()=>I.removeEventListener(ot,b)},[b]),p.jsx(Vr,{scope:t,orientation:n,dir:y,loop:s,currentTabStopId:g,onItemFocus:r.useCallback(I=>S(I),[S]),onItemShiftTab:r.useCallback(()=>w(!0),[]),onFocusableItemAdd:r.useCallback(()=>A(I=>I+1),[]),onFocusableItemRemove:r.useCallback(()=>A(I=>I-1),[]),children:p.jsx(_.div,{tabIndex:h||M===0?-1:0,"data-orientation":n,...d,ref:C,style:{outline:"none",...e.style},onMouseDown:R(e.onMouseDown,()=>{N.current=!0}),onFocus:R(e.onFocus,I=>{const P=!N.current;if(I.target===I.currentTarget&&P&&!h){const D=new CustomEvent(ot,jr);if(I.currentTarget.dispatchEvent(D),!D.defaultPrevented){const k=x().filter(O=>O.focusable),K=k.find(O=>O.active),q=k.find(O=>O.id===g),X=[K,q,...k].filter(Boolean).map(O=>O.ref.current);Xt(X,u)}}N.current=!1}),onBlur:R(e.onBlur,()=>w(!1))})})}),Kt="RovingFocusGroupItem",Yt=r.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:s=!1,tabStopId:l,children:a,...c}=e,i=Ie(),f=l||i,u=Fr(Kt,t),d=u.currentTabStopId===f,v=Ut(t),{onFocusableItemAdd:C,onFocusableItemRemove:y,currentTabStopId:g}=u;return r.useEffect(()=>{if(n)return C(),()=>y()},[n,C,y]),p.jsx(at.ItemSlot,{scope:t,id:f,focusable:n,active:s,children:p.jsx(_.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...c,ref:o,onMouseDown:R(e.onMouseDown,S=>{n?u.onItemFocus(f):S.preventDefault()}),onFocus:R(e.onFocus,()=>u.onItemFocus(f)),onKeyDown:R(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){u.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const h=Ur(S,u.orientation,u.dir);if(h!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let b=v().filter(x=>x.focusable).map(x=>x.ref.current);if(h==="last")b.reverse();else if(h==="prev"||h==="next"){h==="prev"&&b.reverse();const x=b.indexOf(S.currentTarget);b=u.loop?Wr(b,x+1):b.slice(x+1)}setTimeout(()=>Xt(b))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:g!=null}):a})})});Yt.displayName=Kt;var $r={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zr(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ur(e,o,t){const n=zr(e.key,t);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $r[n]}function Xt(e,o=!1){const t=document.activeElement;for(const n of e)if(n===t||(n.focus({preventScroll:o}),document.activeElement!==t))return}function Wr(e,o){return e.map((t,n)=>e[(o+n)%e.length])}var Gr=Gt,Kr=Yt;function lt(e,[o,t]){return Math.min(t,Math.max(o,e))}function Yr(e,o){return r.useReducer((t,n)=>o[t][n]??t,e)}var gt="ScrollArea",[Zt,Ds]=Ee(gt),[Xr,Y]=Zt(gt),qt=r.forwardRef((e,o)=>{const{__scopeScrollArea:t,type:n="hover",dir:s,scrollHideDelay:l=600,...a}=e,[c,i]=r.useState(null),[f,u]=r.useState(null),[d,v]=r.useState(null),[C,y]=r.useState(null),[g,S]=r.useState(null),[h,w]=r.useState(0),[b,x]=r.useState(0),[N,M]=r.useState(!1),[A,I]=r.useState(!1),P=z(o,k=>i(k)),D=Ve(s);return p.jsx(Xr,{scope:t,type:n,dir:D,scrollHideDelay:l,scrollArea:c,viewport:f,onViewportChange:u,content:d,onContentChange:v,scrollbarX:C,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:M,scrollbarY:g,onScrollbarYChange:S,scrollbarYEnabled:A,onScrollbarYEnabledChange:I,onCornerWidthChange:w,onCornerHeightChange:x,children:p.jsx(_.div,{dir:D,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":h+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});qt.displayName=gt;var Jt="ScrollAreaViewport",Qt=r.forwardRef((e,o)=>{const{__scopeScrollArea:t,children:n,nonce:s,...l}=e,a=Y(Jt,t),c=r.useRef(null),i=z(o,c,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(_.div,{"data-radix-scroll-area-viewport":"",...l,ref:i,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Qt.displayName=Jt;var te="ScrollAreaScrollbar",eo=r.forwardRef((e,o)=>{const{forceMount:t,...n}=e,s=Y(te,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:a}=s,c=e.orientation==="horizontal";return r.useEffect(()=>(c?l(!0):a(!0),()=>{c?l(!1):a(!1)}),[c,l,a]),s.type==="hover"?p.jsx(Zr,{...n,ref:o,forceMount:t}):s.type==="scroll"?p.jsx(qr,{...n,ref:o,forceMount:t}):s.type==="auto"?p.jsx(to,{...n,ref:o,forceMount:t}):s.type==="always"?p.jsx(St,{...n,ref:o}):null});eo.displayName=te;var Zr=r.forwardRef((e,o)=>{const{forceMount:t,...n}=e,s=Y(te,e.__scopeScrollArea),[l,a]=r.useState(!1);return r.useEffect(()=>{const c=s.scrollArea;let i=0;if(c){const f=()=>{window.clearTimeout(i),a(!0)},u=()=>{i=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(i),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(Ne,{present:t||l,children:p.jsx(to,{"data-state":l?"visible":"hidden",...n,ref:o})})}),qr=r.forwardRef((e,o)=>{const{forceMount:t,...n}=e,s=Y(te,e.__scopeScrollArea),l=e.orientation==="horizontal",a=We(()=>i("SCROLL_END"),100),[c,i]=Yr("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return r.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>i("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,s.scrollHideDelay,i]),r.useEffect(()=>{const f=s.viewport,u=l?"scrollLeft":"scrollTop";if(f){let d=f[u];const v=()=>{const C=f[u];d!==C&&(i("SCROLL"),a()),d=C};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[s.viewport,l,i,a]),p.jsx(Ne,{present:t||c!=="hidden",children:p.jsx(St,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:o,onPointerEnter:R(e.onPointerEnter,()=>i("POINTER_ENTER")),onPointerLeave:R(e.onPointerLeave,()=>i("POINTER_LEAVE"))})})}),to=r.forwardRef((e,o)=>{const t=Y(te,e.__scopeScrollArea),{forceMount:n,...s}=e,[l,a]=r.useState(!1),c=e.orientation==="horizontal",i=We(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;a(c?f:u)}},10);return Se(t.viewport,i),Se(t.content,i),p.jsx(Ne,{present:n||l,children:p.jsx(St,{"data-state":l?"visible":"hidden",...s,ref:o})})}),St=r.forwardRef((e,o)=>{const{orientation:t="vertical",...n}=e,s=Y(te,e.__scopeScrollArea),l=r.useRef(null),a=r.useRef(0),[c,i]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=ao(c.viewport,c.content),u={...n,sizes:c,onSizesChange:i,hasThumb:f>0&&f<1,onThumbChange:v=>l.current=v,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:v=>a.current=v};function d(v,C){return rn(v,a.current,c,C)}return t==="horizontal"?p.jsx(Jr,{...u,ref:o,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollLeft,C=Pt(v,c,s.dir);l.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=d(v,s.dir))}}):t==="vertical"?p.jsx(Qr,{...u,ref:o,onThumbPositionChange:()=>{if(s.viewport&&l.current){const v=s.viewport.scrollTop,C=Pt(v,c);l.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=d(v))}}):null}),Jr=r.forwardRef((e,o)=>{const{sizes:t,onSizesChange:n,...s}=e,l=Y(te,e.__scopeScrollArea),[a,c]=r.useState(),i=r.useRef(null),f=z(o,i,l.onScrollbarXChange);return r.useEffect(()=>{i.current&&c(getComputedStyle(i.current))},[i]),p.jsx(ro,{"data-orientation":"horizontal",...s,ref:f,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ue(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(l.viewport){const v=l.viewport.scrollLeft+u.deltaX;e.onWheelScroll(v),co(v,d)&&u.preventDefault()}},onResize:()=>{i.current&&l.viewport&&a&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:He(a.paddingLeft),paddingEnd:He(a.paddingRight)}})}})}),Qr=r.forwardRef((e,o)=>{const{sizes:t,onSizesChange:n,...s}=e,l=Y(te,e.__scopeScrollArea),[a,c]=r.useState(),i=r.useRef(null),f=z(o,i,l.onScrollbarYChange);return r.useEffect(()=>{i.current&&c(getComputedStyle(i.current))},[i]),p.jsx(ro,{"data-orientation":"vertical",...s,ref:f,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ue(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(l.viewport){const v=l.viewport.scrollTop+u.deltaY;e.onWheelScroll(v),co(v,d)&&u.preventDefault()}},onResize:()=>{i.current&&l.viewport&&a&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:He(a.paddingTop),paddingEnd:He(a.paddingBottom)}})}})}),[en,oo]=Zt(te),ro=r.forwardRef((e,o)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:s,onThumbChange:l,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:i,onDragScroll:f,onWheelScroll:u,onResize:d,...v}=e,C=Y(te,t),[y,g]=r.useState(null),S=z(o,P=>g(P)),h=r.useRef(null),w=r.useRef(""),b=C.viewport,x=n.content-n.viewport,N=re(u),M=re(i),A=We(d,10);function I(P){if(h.current){const D=P.clientX-h.current.left,k=P.clientY-h.current.top;f({x:D,y:k})}}return r.useEffect(()=>{const P=D=>{const k=D.target;y?.contains(k)&&N(D,x)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,x,N]),r.useEffect(M,[n,M]),Se(y,A),Se(C.content,A),p.jsx(en,{scope:t,scrollbar:y,hasThumb:s,onThumbChange:re(l),onThumbPointerUp:re(a),onThumbPositionChange:M,onThumbPointerDown:re(c),children:p.jsx(_.div,{...v,ref:S,style:{position:"absolute",...v.style},onPointerDown:R(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),h.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),I(P))}),onPointerMove:R(e.onPointerMove,I),onPointerUp:R(e.onPointerUp,P=>{const D=P.target;D.hasPointerCapture(P.pointerId)&&D.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,C.viewport&&(C.viewport.style.scrollBehavior=""),h.current=null})})})}),je="ScrollAreaThumb",no=r.forwardRef((e,o)=>{const{forceMount:t,...n}=e,s=oo(je,e.__scopeScrollArea);return p.jsx(Ne,{present:t||s.hasThumb,children:p.jsx(tn,{ref:o,...n})})}),tn=r.forwardRef((e,o)=>{const{__scopeScrollArea:t,style:n,...s}=e,l=Y(je,t),a=oo(je,t),{onThumbPositionChange:c}=a,i=z(o,d=>a.onThumbChange(d)),f=r.useRef(void 0),u=We(()=>{f.current&&(f.current(),f.current=void 0)},100);return r.useEffect(()=>{const d=l.viewport;if(d){const v=()=>{if(u(),!f.current){const C=nn(d,c);f.current=C,c()}};return c(),d.addEventListener("scroll",v),()=>d.removeEventListener("scroll",v)}},[l.viewport,u,c]),p.jsx(_.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:R(e.onPointerDownCapture,d=>{const C=d.target.getBoundingClientRect(),y=d.clientX-C.left,g=d.clientY-C.top;a.onThumbPointerDown({x:y,y:g})}),onPointerUp:R(e.onPointerUp,a.onThumbPointerUp)})});no.displayName=je;var wt="ScrollAreaCorner",so=r.forwardRef((e,o)=>{const t=Y(wt,e.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?p.jsx(on,{...e,ref:o}):null});so.displayName=wt;var on=r.forwardRef((e,o)=>{const{__scopeScrollArea:t,...n}=e,s=Y(wt,t),[l,a]=r.useState(0),[c,i]=r.useState(0),f=!!(l&&c);return Se(s.scrollbarX,()=>{const u=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(u),i(u)}),Se(s.scrollbarY,()=>{const u=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(u),a(u)}),f?p.jsx(_.div,{...n,ref:o,style:{width:l,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function He(e){return e?parseInt(e,10):0}function ao(e,o){const t=e/o;return isNaN(t)?0:t}function Ue(e){const o=ao(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-t)*o;return Math.max(n,18)}function rn(e,o,t,n="ltr"){const s=Ue(t),l=s/2,a=o||l,c=s-a,i=t.scrollbar.paddingStart+a,f=t.scrollbar.size-t.scrollbar.paddingEnd-c,u=t.content-t.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return lo([i,f],d)(e)}function Pt(e,o,t="ltr"){const n=Ue(o),s=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,l=o.scrollbar.size-s,a=o.content-o.viewport,c=l-n,i=t==="ltr"?[0,a]:[a*-1,0],f=lt(e,i);return lo([0,a],[0,c])(f)}function lo(e,o){return t=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const n=(o[1]-o[0])/(e[1]-e[0]);return o[0]+n*(t-e[0])}}function co(e,o){return e>0&&e<o}var nn=(e,o=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const l={left:e.scrollLeft,top:e.scrollTop},a=t.left!==l.left,c=t.top!==l.top;(a||c)&&o(),t=l,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function We(e,o){const t=re(e),n=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(n.current),[]),r.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,o)},[t,o])}function Se(e,o){const t=re(o);ne(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,t])}var io=qt,uo=Qt,ct=eo,it=no,sn=so,an=[" ","Enter","ArrowUp","ArrowDown"],ln=[" ","Enter"],pe="Select",[Ge,Ke,cn]=zt(pe),[be,Os]=Ee(pe,[cn,At]),Ye=At(),[dn,ce]=be(pe),[un,fn]=be(pe),fo=e=>{const{__scopeSelect:o,children:t,open:n,defaultOpen:s,onOpenChange:l,value:a,defaultValue:c,onValueChange:i,dir:f,name:u,autoComplete:d,disabled:v,required:C,form:y}=e,g=Ye(o),[S,h]=r.useState(null),[w,b]=r.useState(null),[x,N]=r.useState(!1),M=Ve(f),[A,I]=Oe({prop:n,defaultProp:s??!1,onChange:l,caller:pe}),[P,D]=Oe({prop:a,defaultProp:c,onChange:i,caller:pe}),k=r.useRef(null),K=S?y||!!S.closest("form"):!0,[q,J]=r.useState(new Set),X=Array.from(q).map(O=>O.props.value).join(";");return p.jsx(ir,{...g,children:p.jsxs(dn,{required:C,scope:o,trigger:S,onTriggerChange:h,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:x,onValueNodeHasChildrenChange:N,contentId:Ie(),value:P,onValueChange:D,open:A,onOpenChange:I,dir:M,triggerPointerDownPosRef:k,disabled:v,children:[p.jsx(Ge.Provider,{scope:o,children:p.jsx(un,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(O=>{J(Q=>new Set(Q).add(O))},[]),onNativeOptionRemove:r.useCallback(O=>{J(Q=>{const oe=new Set(Q);return oe.delete(O),oe})},[]),children:t})}),K?p.jsxs(Oo,{"aria-hidden":!0,required:C,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:O=>D(O.target.value),disabled:v,form:y,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(q)]},X):null]})})};fo.displayName=pe;var mo="SelectTrigger",po=r.forwardRef((e,o)=>{const{__scopeSelect:t,disabled:n=!1,...s}=e,l=Ye(t),a=ce(mo,t),c=a.disabled||n,i=z(o,a.onTriggerChange),f=Ke(t),u=r.useRef("touch"),[d,v,C]=Ho(g=>{const S=f().filter(b=>!b.disabled),h=S.find(b=>b.value===a.value),w=ko(S,g,h);w!==void 0&&a.onValueChange(w.value)}),y=g=>{c||(a.onOpenChange(!0),C()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(dr,{asChild:!0,...l,children:p.jsx(_.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":jo(a.value)?"":void 0,...s,ref:i,onClick:R(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:R(s.onPointerDown,g=>{u.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:R(s.onKeyDown,g=>{const S=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&v(g.key),!(S&&g.key===" ")&&an.includes(g.key)&&(y(),g.preventDefault())})})})});po.displayName=mo;var ho="SelectValue",vo=r.forwardRef((e,o)=>{const{__scopeSelect:t,className:n,style:s,children:l,placeholder:a="",...c}=e,i=ce(ho,t),{onValueNodeHasChildrenChange:f}=i,u=l!==void 0,d=z(o,i.onValueNodeChange);return ne(()=>{f(u)},[f,u]),p.jsx(_.span,{...c,ref:d,style:{pointerEvents:"none"},children:jo(i.value)?p.jsx(p.Fragment,{children:a}):l})});vo.displayName=ho;var mn="SelectIcon",go=r.forwardRef((e,o)=>{const{__scopeSelect:t,children:n,...s}=e;return p.jsx(_.span,{"aria-hidden":!0,...s,ref:o,children:n||"▼"})});go.displayName=mn;var pn="SelectPortal",So=e=>p.jsx(ur,{asChild:!0,...e});So.displayName=pn;var he="SelectContent",wo=r.forwardRef((e,o)=>{const t=ce(he,e.__scopeSelect),[n,s]=r.useState();if(ne(()=>{s(new DocumentFragment)},[]),!t.open){const l=n;return l?_t.createPortal(p.jsx(bo,{scope:e.__scopeSelect,children:p.jsx(Ge.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),l):null}return p.jsx(Co,{...e,ref:o})});wo.displayName=he;var Z=10,[bo,ie]=be(he),hn="SelectContentImpl",vn=nt("SelectContent.RemoveScroll"),Co=r.forwardRef((e,o)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:a,side:c,sideOffset:i,align:f,alignOffset:u,arrowPadding:d,collisionBoundary:v,collisionPadding:C,sticky:y,hideWhenDetached:g,avoidCollisions:S,...h}=e,w=ce(he,t),[b,x]=r.useState(null),[N,M]=r.useState(null),A=z(o,T=>x(T)),[I,P]=r.useState(null),[D,k]=r.useState(null),K=Ke(t),[q,J]=r.useState(!1),X=r.useRef(!1);r.useEffect(()=>{if(b)return mr(b)},[b]),pr();const O=r.useCallback(T=>{const[F,...G]=K().map(U=>U.ref.current),[L]=G.slice(-1),j=document.activeElement;for(const U of T)if(U===j||(U?.scrollIntoView({block:"nearest"}),U===F&&N&&(N.scrollTop=0),U===L&&N&&(N.scrollTop=N.scrollHeight),U?.focus(),document.activeElement!==j))return},[K,N]),Q=r.useCallback(()=>O([I,b]),[O,I,b]);r.useEffect(()=>{q&&Q()},[q,Q]);const{onOpenChange:oe,triggerPointerDownPosRef:se}=w;r.useEffect(()=>{if(b){let T={x:0,y:0};const F=L=>{T={x:Math.abs(Math.round(L.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(L.pageY)-(se.current?.y??0))}},G=L=>{T.x<=10&&T.y<=10?L.preventDefault():b.contains(L.target)||oe(!1),document.removeEventListener("pointermove",F),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",G,{capture:!0})}}},[b,oe,se]),r.useEffect(()=>{const T=()=>oe(!1);return window.addEventListener("blur",T),window.addEventListener("resize",T),()=>{window.removeEventListener("blur",T),window.removeEventListener("resize",T)}},[oe]);const[Ze,Ae]=Ho(T=>{const F=K().filter(j=>!j.disabled),G=F.find(j=>j.ref.current===document.activeElement),L=ko(F,T,G);L&&setTimeout(()=>L.ref.current.focus())}),qe=r.useCallback((T,F,G)=>{const L=!X.current&&!G;(w.value!==void 0&&w.value===F||L)&&(P(T),L&&(X.current=!0))},[w.value]),Je=r.useCallback(()=>b?.focus(),[b]),ve=r.useCallback((T,F,G)=>{const L=!X.current&&!G;(w.value!==void 0&&w.value===F||L)&&k(T)},[w.value]),_e=n==="popper"?dt:xo,Ce=_e===dt?{side:c,sideOffset:i,align:f,alignOffset:u,arrowPadding:d,collisionBoundary:v,collisionPadding:C,sticky:y,hideWhenDetached:g,avoidCollisions:S}:{};return p.jsx(bo,{scope:t,content:b,viewport:N,onViewportChange:M,itemRefCallback:qe,selectedItem:I,onItemLeave:Je,itemTextRefCallback:ve,focusSelectedItem:Q,selectedItemText:D,position:n,isPositioned:q,searchRef:Ze,children:p.jsx(hr,{as:vn,allowPinchZoom:!0,children:p.jsx(vr,{asChild:!0,trapped:w.open,onMountAutoFocus:T=>{T.preventDefault()},onUnmountAutoFocus:R(s,T=>{w.trigger?.focus({preventScroll:!0}),T.preventDefault()}),children:p.jsx(gr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:T=>T.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(_e,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:T=>T.preventDefault(),...h,...Ce,onPlaced:()=>J(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:R(h.onKeyDown,T=>{const F=T.ctrlKey||T.altKey||T.metaKey;if(T.key==="Tab"&&T.preventDefault(),!F&&T.key.length===1&&Ae(T.key),["ArrowUp","ArrowDown","Home","End"].includes(T.key)){let L=K().filter(j=>!j.disabled).map(j=>j.ref.current);if(["ArrowUp","End"].includes(T.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(T.key)){const j=T.target,U=L.indexOf(j);L=L.slice(U+1)}setTimeout(()=>O(L)),T.preventDefault()}})})})})})})});Co.displayName=hn;var gn="SelectItemAlignedPosition",xo=r.forwardRef((e,o)=>{const{__scopeSelect:t,onPlaced:n,...s}=e,l=ce(he,t),a=ie(he,t),[c,i]=r.useState(null),[f,u]=r.useState(null),d=z(o,A=>u(A)),v=Ke(t),C=r.useRef(!1),y=r.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:h,focusSelectedItem:w}=a,b=r.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&f&&g&&S&&h){const A=l.trigger.getBoundingClientRect(),I=f.getBoundingClientRect(),P=l.valueNode.getBoundingClientRect(),D=h.getBoundingClientRect();if(l.dir!=="rtl"){const j=D.left-I.left,U=P.left-j,de=A.left-U,ue=A.width+de,Qe=Math.max(ue,I.width),et=window.innerWidth-Z,tt=lt(U,[Z,Math.max(Z,et-Qe)]);c.style.minWidth=ue+"px",c.style.left=tt+"px"}else{const j=I.right-D.right,U=window.innerWidth-P.right-j,de=window.innerWidth-A.right-U,ue=A.width+de,Qe=Math.max(ue,I.width),et=window.innerWidth-Z,tt=lt(U,[Z,Math.max(Z,et-Qe)]);c.style.minWidth=ue+"px",c.style.right=tt+"px"}const k=v(),K=window.innerHeight-Z*2,q=g.scrollHeight,J=window.getComputedStyle(f),X=parseInt(J.borderTopWidth,10),O=parseInt(J.paddingTop,10),Q=parseInt(J.borderBottomWidth,10),oe=parseInt(J.paddingBottom,10),se=X+O+q+oe+Q,Ze=Math.min(S.offsetHeight*5,se),Ae=window.getComputedStyle(g),qe=parseInt(Ae.paddingTop,10),Je=parseInt(Ae.paddingBottom,10),ve=A.top+A.height/2-Z,_e=K-ve,Ce=S.offsetHeight/2,T=S.offsetTop+Ce,F=X+O+T,G=se-F;if(F<=ve){const j=k.length>0&&S===k[k.length-1].ref.current;c.style.bottom="0px";const U=f.clientHeight-g.offsetTop-g.offsetHeight,de=Math.max(_e,Ce+(j?Je:0)+U+Q),ue=F+de;c.style.height=ue+"px"}else{const j=k.length>0&&S===k[0].ref.current;c.style.top="0px";const de=Math.max(ve,X+g.offsetTop+(j?qe:0)+Ce)+G;c.style.height=de+"px",g.scrollTop=F-ve+g.offsetTop}c.style.margin=`${Z}px 0`,c.style.minHeight=Ze+"px",c.style.maxHeight=K+"px",n?.(),requestAnimationFrame(()=>C.current=!0)}},[v,l.trigger,l.valueNode,c,f,g,S,h,l.dir,n]);ne(()=>b(),[b]);const[x,N]=r.useState();ne(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const M=r.useCallback(A=>{A&&y.current===!0&&(b(),w?.(),y.current=!1)},[b,w]);return p.jsx(wn,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:C,onScrollButtonChange:M,children:p.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:p.jsx(_.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xo.displayName=gn;var Sn="SelectPopperPosition",dt=r.forwardRef((e,o)=>{const{__scopeSelect:t,align:n="start",collisionPadding:s=Z,...l}=e,a=Ye(t);return p.jsx(Sr,{...a,...l,ref:o,align:n,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dt.displayName=Sn;var[wn,bt]=be(he,{}),ut="SelectViewport",yo=r.forwardRef((e,o)=>{const{__scopeSelect:t,nonce:n,...s}=e,l=ie(ut,t),a=bt(ut,t),c=z(o,l.onViewportChange),i=r.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),p.jsx(Ge.Slot,{scope:t,children:p.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:R(s.onScroll,f=>{const u=f.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:v}=a;if(v?.current&&d){const C=Math.abs(i.current-u.scrollTop);if(C>0){const y=window.innerHeight-Z*2,g=parseFloat(d.style.minHeight),S=parseFloat(d.style.height),h=Math.max(g,S);if(h<y){const w=h+C,b=Math.min(y,w),x=w-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}i.current=u.scrollTop})})})]})});yo.displayName=ut;var To="SelectGroup",[bn,Cn]=be(To),Ro=r.forwardRef((e,o)=>{const{__scopeSelect:t,...n}=e,s=Ie();return p.jsx(bn,{scope:t,id:s,children:p.jsx(_.div,{role:"group","aria-labelledby":s,...n,ref:o})})});Ro.displayName=To;var Eo="SelectLabel",Io=r.forwardRef((e,o)=>{const{__scopeSelect:t,...n}=e,s=Cn(Eo,t);return p.jsx(_.div,{id:s.id,...n,ref:o})});Io.displayName=Eo;var ke="SelectItem",[xn,No]=be(ke),Po=r.forwardRef((e,o)=>{const{__scopeSelect:t,value:n,disabled:s=!1,textValue:l,...a}=e,c=ce(ke,t),i=ie(ke,t),f=c.value===n,[u,d]=r.useState(l??""),[v,C]=r.useState(!1),y=z(o,w=>i.itemRefCallback?.(w,n,s)),g=Ie(),S=r.useRef("touch"),h=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(xn,{scope:t,value:n,disabled:s,textId:g,isSelected:f,onItemTextChange:r.useCallback(w=>{d(b=>b||(w?.textContent??"").trim())},[]),children:p.jsx(Ge.ItemSlot,{scope:t,value:n,disabled:s,textValue:u,children:p.jsx(_.div,{role:"option","aria-labelledby":g,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:R(a.onFocus,()=>C(!0)),onBlur:R(a.onBlur,()=>C(!1)),onClick:R(a.onClick,()=>{S.current!=="mouse"&&h()}),onPointerUp:R(a.onPointerUp,()=>{S.current==="mouse"&&h()}),onPointerDown:R(a.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:R(a.onPointerMove,w=>{S.current=w.pointerType,s?i.onItemLeave?.():S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(a.onPointerLeave,w=>{w.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:R(a.onKeyDown,w=>{i.searchRef?.current!==""&&w.key===" "||(ln.includes(w.key)&&h(),w.key===" "&&w.preventDefault())})})})})});Po.displayName=ke;var ye="SelectItemText",Ao=r.forwardRef((e,o)=>{const{__scopeSelect:t,className:n,style:s,...l}=e,a=ce(ye,t),c=ie(ye,t),i=No(ye,t),f=fn(ye,t),[u,d]=r.useState(null),v=z(o,h=>d(h),i.onItemTextChange,h=>c.itemTextRefCallback?.(h,i.value,i.disabled)),C=u?.textContent,y=r.useMemo(()=>p.jsx("option",{value:i.value,disabled:i.disabled,children:C},i.value),[i.disabled,i.value,C]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=f;return ne(()=>(g(y),()=>S(y)),[g,S,y]),p.jsxs(p.Fragment,{children:[p.jsx(_.span,{id:i.textId,...l,ref:v}),i.isSelected&&a.valueNode&&!a.valueNodeHasChildren?_t.createPortal(l.children,a.valueNode):null]})});Ao.displayName=ye;var _o="SelectItemIndicator",Lo=r.forwardRef((e,o)=>{const{__scopeSelect:t,...n}=e;return No(_o,t).isSelected?p.jsx(_.span,{"aria-hidden":!0,...n,ref:o}):null});Lo.displayName=_o;var ft="SelectScrollUpButton",yn=r.forwardRef((e,o)=>{const t=ie(ft,e.__scopeSelect),n=bt(ft,e.__scopeSelect),[s,l]=r.useState(!1),a=z(o,n.onScrollButtonChange);return ne(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=i.scrollTop>0;l(f)};const i=t.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?p.jsx(Mo,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=t;c&&i&&(c.scrollTop=c.scrollTop-i.offsetHeight)}}):null});yn.displayName=ft;var mt="SelectScrollDownButton",Tn=r.forwardRef((e,o)=>{const t=ie(mt,e.__scopeSelect),n=bt(mt,e.__scopeSelect),[s,l]=r.useState(!1),a=z(o,n.onScrollButtonChange);return ne(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=i.scrollHeight-i.clientHeight,u=Math.ceil(i.scrollTop)<f;l(u)};const i=t.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?p.jsx(Mo,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=t;c&&i&&(c.scrollTop=c.scrollTop+i.offsetHeight)}}):null});Tn.displayName=mt;var Mo=r.forwardRef((e,o)=>{const{__scopeSelect:t,onAutoScroll:n,...s}=e,l=ie("SelectScrollButton",t),a=r.useRef(null),c=Ke(t),i=r.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return r.useEffect(()=>()=>i(),[i]),ne(()=>{c().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),p.jsx(_.div,{"aria-hidden":!0,...s,ref:o,style:{flexShrink:0,...s.style},onPointerDown:R(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:R(s.onPointerMove,()=>{l.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:R(s.onPointerLeave,()=>{i()})})}),Rn="SelectSeparator",Do=r.forwardRef((e,o)=>{const{__scopeSelect:t,...n}=e;return p.jsx(_.div,{"aria-hidden":!0,...n,ref:o})});Do.displayName=Rn;var pt="SelectArrow",En=r.forwardRef((e,o)=>{const{__scopeSelect:t,...n}=e,s=Ye(t),l=ce(pt,t),a=ie(pt,t);return l.open&&a.position==="popper"?p.jsx(wr,{...s,...n,ref:o}):null});En.displayName=pt;var In="SelectBubbleInput",Oo=r.forwardRef(({__scopeSelect:e,value:o,...t},n)=>{const s=r.useRef(null),l=z(n,s),a=Or(o);return r.useEffect(()=>{const c=s.current;if(!c)return;const i=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==o&&u){const d=new Event("change",{bubbles:!0});u.call(c,o),c.dispatchEvent(d)}},[a,o]),p.jsx(_.select,{...t,style:{...fr,...t.style},ref:l,defaultValue:o})});Oo.displayName=In;function jo(e){return e===""||e===void 0}function Ho(e){const o=re(e),t=r.useRef(""),n=r.useRef(0),s=r.useCallback(a=>{const c=t.current+a;o(c),function i(f){t.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>i(""),1e3))}(c)},[o]),l=r.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,s,l]}function ko(e,o,t){const s=o.length>1&&Array.from(o).every(f=>f===o[0])?o[0]:o,l=t?e.indexOf(t):-1;let a=Nn(e,Math.max(l,0));s.length===1&&(a=a.filter(f=>f!==t));const i=a.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==t?i:void 0}function Nn(e,o){return e.map((t,n)=>e[(o+n)%e.length])}var Pn=fo,An=po,_n=vo,Ln=go,Mn=So,Dn=wo,On=yo,jn=Ro,Hn=Io,kn=Po,Vn=Ao,Fn=Lo,Bn=Do,Xe="Tabs",[$n,js]=Ee(Xe,[Wt]),Vo=Wt(),[zn,Ct]=$n(Xe),Fo=r.forwardRef((e,o)=>{const{__scopeTabs:t,value:n,onValueChange:s,defaultValue:l,orientation:a="horizontal",dir:c,activationMode:i="automatic",...f}=e,u=Ve(c),[d,v]=Oe({prop:n,onChange:s,defaultProp:l??"",caller:Xe});return p.jsx(zn,{scope:t,baseId:Ie(),value:d,onValueChange:v,orientation:a,dir:u,activationMode:i,children:p.jsx(_.div,{dir:u,"data-orientation":a,...f,ref:o})})});Fo.displayName=Xe;var Bo="TabsList",$o=r.forwardRef((e,o)=>{const{__scopeTabs:t,loop:n=!0,...s}=e,l=Ct(Bo,t),a=Vo(t);return p.jsx(Gr,{asChild:!0,...a,orientation:l.orientation,dir:l.dir,loop:n,children:p.jsx(_.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:o})})});$o.displayName=Bo;var zo="TabsTrigger",Uo=r.forwardRef((e,o)=>{const{__scopeTabs:t,value:n,disabled:s=!1,...l}=e,a=Ct(zo,t),c=Vo(t),i=Ko(a.baseId,n),f=Yo(a.baseId,n),u=n===a.value;return p.jsx(Kr,{asChild:!0,...c,focusable:!s,active:u,children:p.jsx(_.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":f,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:i,...l,ref:o,onMouseDown:R(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?a.onValueChange(n):d.preventDefault()}),onKeyDown:R(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(n)}),onFocus:R(e.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!s&&d&&a.onValueChange(n)})})})});Uo.displayName=zo;var Wo="TabsContent",Go=r.forwardRef((e,o)=>{const{__scopeTabs:t,value:n,forceMount:s,children:l,...a}=e,c=Ct(Wo,t),i=Ko(c.baseId,n),f=Yo(c.baseId,n),u=n===c.value,d=r.useRef(u);return r.useEffect(()=>{const v=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(v)},[]),p.jsx(Ne,{present:s||u,children:({present:v})=>p.jsx(_.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":i,hidden:!v,id:f,tabIndex:0,...a,ref:o,style:{...e.style,animationDuration:d.current?"0s":void 0},children:v&&l})})});Go.displayName=Wo;function Ko(e,o){return`${e}-trigger-${o}`}function Yo(e,o){return`${e}-content-${o}`}var Un=Fo,Wn=$o,Gn=Uo,Kn=Go;function Yn(e,o){const{asChild:t,children:n}=e;if(!t)return typeof o=="function"?o(n):o;const s=r.Children.only(n);return r.cloneElement(s,{children:typeof o=="function"?o(s.props.children):o})}const Xn=B.forwardRef((e,o)=>B.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:o},B.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));Xn.displayName="ThickDividerHorizontalIcon";const Xo=B.forwardRef((e,o)=>B.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:o},B.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));Xo.displayName="ThickCheckIcon";const Zo=B.forwardRef((e,o)=>B.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:o},B.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));Zo.displayName="ChevronDownIcon";const Zn=B.forwardRef((e,o)=>B.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:o},B.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));Zn.displayName="ThickChevronRightIcon";const qn=["1","2","3"],xe={...br,size:{values:qn,default:"1"},...Lt,scrollbars:{default:"both"}};function Jn(e){const{m:o,mx:t,my:n,mt:s,mr:l,mb:a,ml:c,...i}=e;return{m:o,mx:t,my:n,mt:s,mr:l,mb:a,ml:c,rest:i}}const me=we.m.values;function Qn(e){const[o,t]=fe({className:"rt-r-m",customProperties:["--margin"],propValues:me,value:e.m}),[n,s]=fe({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:me,value:e.mx}),[l,a]=fe({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:me,value:e.my}),[c,i]=fe({className:"rt-r-mt",customProperties:["--margin-top"],propValues:me,value:e.mt}),[f,u]=fe({className:"rt-r-mr",customProperties:["--margin-right"],propValues:me,value:e.mr}),[d,v]=fe({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:me,value:e.mb}),[C,y]=fe({className:"rt-r-ml",customProperties:["--margin-left"],propValues:me,value:e.ml});return[H(o,n,l,c,f,d,C),Mt(t,s,a,i,u,v,y)]}const qo=r.forwardRef((e,o)=>{const{rest:t,...n}=Jn(e),[s,l]=Qn(n),{asChild:a,children:c,className:i,style:f,type:u,scrollHideDelay:d=u!=="scroll"?0:void 0,dir:v,size:C=xe.size.default,radius:y=xe.radius.default,scrollbars:g=xe.scrollbars.default,...S}=t;return r.createElement(io,{type:u,scrollHideDelay:d,className:H("rt-ScrollAreaRoot",s,i),style:Mt(l,f),asChild:a},Yn({asChild:a,children:c},h=>r.createElement(r.Fragment,null,r.createElement(uo,{...S,ref:o,className:"rt-ScrollAreaViewport"},h),r.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),g!=="vertical"?r.createElement(ct,{"data-radius":y,orientation:"horizontal",className:H("rt-ScrollAreaScrollbar",st({className:"rt-r-size",value:C,propValues:xe.size.values}))},r.createElement(it,{className:"rt-ScrollAreaThumb"})):null,g!=="horizontal"?r.createElement(ct,{"data-radius":y,orientation:"vertical",className:H("rt-ScrollAreaScrollbar",st({className:"rt-r-size",value:C,propValues:xe.size.values}))},r.createElement(it,{className:"rt-ScrollAreaThumb"})):null,g==="both"?r.createElement(sn,{className:"rt-ScrollAreaCorner"}):null)))});qo.displayName="ScrollArea";const es=["1","2","3"],xt={size:{type:"enum",className:"rt-r-size",values:es,default:"2",responsive:!0}},ts=["classic","surface","soft","ghost"],os={variant:{type:"enum",className:"rt-variant",values:ts,default:"surface"},...vt,...Lt,placeholder:{type:"string"}},rs=["solid","soft"],ns={variant:{type:"enum",className:"rt-variant",values:rs,default:"solid"},...vt,...Dt},yt=r.createContext({}),Jo=e=>{const{children:o,size:t=xt.size.default,...n}=e;return r.createElement(Pn,{...n},r.createElement(yt.Provider,{value:r.useMemo(()=>({size:t}),[t])},o))};Jo.displayName="Select.Root";const Qo=r.forwardRef((e,o)=>{const t=r.useContext(yt),{children:n,className:s,color:l,radius:a,placeholder:c,...i}=ee({size:t?.size,...e},{size:xt.size},os,we);return r.createElement(An,{asChild:!0},r.createElement("button",{"data-accent-color":l,"data-radius":a,...i,ref:o,className:H("rt-reset","rt-SelectTrigger",s)},r.createElement("span",{className:"rt-SelectTriggerInner"},r.createElement(_n,{placeholder:c},n)),r.createElement(Ln,{asChild:!0},r.createElement(Zo,{className:"rt-SelectIcon"}))))});Qo.displayName="Select.Trigger";const er=r.forwardRef((e,o)=>{const t=r.useContext(yt),{className:n,children:s,color:l,container:a,...c}=ee({size:t?.size,...e},{size:xt.size},ns),i=Cr(),f=l||i.accentColor;return r.createElement(Mn,{container:a},r.createElement(xr,{asChild:!0},r.createElement(Dn,{"data-accent-color":f,sideOffset:4,...c,asChild:!1,ref:o,className:H({"rt-PopperContent":c.position==="popper"},"rt-SelectContent",n)},r.createElement(io,{type:"auto",className:"rt-ScrollAreaRoot"},r.createElement(On,{asChild:!0,className:"rt-SelectViewport"},r.createElement(uo,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},s)),r.createElement(ct,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},r.createElement(it,{className:"rt-ScrollAreaThumb"}))))))});er.displayName="Select.Content";const Le=r.forwardRef((e,o)=>{const{className:t,children:n,...s}=e;return r.createElement(kn,{...s,asChild:!1,ref:o,className:H("rt-SelectItem",t)},r.createElement(Fn,{className:"rt-SelectItemIndicator"},r.createElement(Xo,{className:"rt-SelectItemIndicatorIcon"})),r.createElement(Vn,null,n))});Le.displayName="Select.Item";const tr=r.forwardRef(({className:e,...o},t)=>r.createElement(jn,{...o,asChild:!1,ref:t,className:H("rt-SelectGroup",e)}));tr.displayName="Select.Group";const or=r.forwardRef(({className:e,...o},t)=>r.createElement(Hn,{...o,asChild:!1,ref:t,className:H("rt-SelectLabel",e)}));or.displayName="Select.Label";const ss=r.forwardRef(({className:e,...o},t)=>r.createElement(Bn,{...o,asChild:!1,ref:t,className:H("rt-SelectSeparator",e)}));ss.displayName="Select.Separator";const as=["1","2"],ls=["nowrap","wrap","wrap-reverse"],cs=["start","center","end"],is={size:{type:"enum",className:"rt-r-size",values:as,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:ls,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:cs,responsive:!0},...vt,...Dt},ds=["1","2","3"],us=["surface","ghost"],fs=["auto","fixed"],rt={size:{type:"enum",className:"rt-r-size",values:ds,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:us,default:"ghost"},layout:{type:"enum",className:"rt-r-tl",values:fs,responsive:!0}},ms=["start","center","end","baseline"],ps={align:{type:"enum",className:"rt-r-va",values:ms,parseValue:hs,responsive:!0}};function hs(e){return{baseline:"baseline",start:"top",center:"middle",end:"bottom"}[e]}const vs=["start","center","end"],Tt={justify:{type:"enum",className:"rt-r-ta",values:vs,parseValue:gs,responsive:!0},...Tr,...yr};function gs(e){return{start:"left",center:"center",end:"right"}[e]}const rr=r.forwardRef((e,o)=>{const{layout:t,...n}=rt,{className:s,children:l,layout:a,...c}=ee(e,n,we),i=st({value:a,className:rt.layout.className,propValues:rt.layout.values});return r.createElement("div",{ref:o,className:H("rt-TableRoot",s),...c},r.createElement(qo,null,r.createElement("table",{className:H("rt-TableRootTable",i)},l)))});rr.displayName="Table.Root";const nr=r.forwardRef(({className:e,...o},t)=>r.createElement("thead",{...o,ref:t,className:H("rt-TableHeader",e)}));nr.displayName="Table.Header";const sr=r.forwardRef(({className:e,...o},t)=>r.createElement("tbody",{...o,ref:t,className:H("rt-TableBody",e)}));sr.displayName="Table.Body";const ht=r.forwardRef((e,o)=>{const{className:t,...n}=ee(e,ps);return r.createElement("tr",{...n,ref:o,className:H("rt-TableRow",t)})});ht.displayName="Table.Row";const Te=r.forwardRef((e,o)=>{const{className:t,...n}=ee(e,Tt);return r.createElement("td",{className:H("rt-TableCell",t),ref:o,...n})});Te.displayName="Table.Cell";const ge=r.forwardRef((e,o)=>{const{className:t,...n}=ee(e,Tt);return r.createElement("th",{className:H("rt-TableCell","rt-TableColumnHeaderCell",t),scope:"col",ref:o,...n})});ge.displayName="Table.ColumnHeaderCell";const ar=r.forwardRef((e,o)=>{const{className:t,...n}=ee(e,Tt);return r.createElement("th",{className:H("rt-TableCell","rt-TableRowHeaderCell",t),scope:"row",ref:o,...n})});ar.displayName="Table.RowHeaderCell";const lr=r.forwardRef((e,o)=>{const{className:t,...n}=ee(e,we);return r.createElement(Un,{...n,ref:o,className:H("rt-TabsRoot",t)})});lr.displayName="Tabs.Root";const cr=r.forwardRef((e,o)=>{const{className:t,color:n,...s}=ee(e,is,we);return r.createElement(Wn,{"data-accent-color":n,...s,asChild:!1,ref:o,className:H("rt-BaseTabList","rt-TabsList",t)})});cr.displayName="Tabs.List";const Me=r.forwardRef((e,o)=>{const{className:t,children:n,...s}=e;return r.createElement(Gn,{...s,asChild:!1,ref:o,className:H("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",t)},r.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},n),r.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},n))});Me.displayName="Tabs.Trigger";const De=r.forwardRef((e,o)=>{const{className:t,...n}=ee(e,we);return r.createElement(Kn,{...n,ref:o,className:H("rt-TabsContent",t)})});De.displayName="Tabs.Content";const Hs=()=>{const{roomId:e}=Fe(),o=Be(i=>i.isInitialWsLoginEnd),t=Re(i=>i.send),n=$(i=>i.clear),s=$(i=>i.setRoomGameResult),l=Ot(i=>i.setServerGameMsg),a=Re(i=>i.readyState),c=jt();return r.useEffect(()=>{a===Rr.ReadyState.CLOSED&&c("/")},[c,a]),r.useEffect(()=>(o&&e&&(f=>{t(JSON.stringify({type:"roomEnter",data:{roomId:f}}))})(e),()=>{o&&e&&(u=>{t(JSON.stringify({type:"roomLeave",data:{roomId:u}})),n(),s([]),l(null)})(e)}),[e,o]),E(ze,{css:V`
        height: 100dvh;
        width: 100dwh;
        -webkit-touch-callout: none; /* iOS 컨텍스트 메뉴 막기 */
        -webkit-user-select: none; /* 텍스트 선택 막기 (iOS/Android) */
        user-select: none;
        /* touch-action: none;          터치 동작 막기 (스크롤/줌 등) */
        touch-action: manipulation; /* 더블탭 확대 방지 */
      `,children:[m(Ss,{}),m(bs,{})]})},Ss=()=>{const[e]=r.useState(!0);return m(Ir,{orthographic:e,children:m(ws,{isOrth:e})})},ws=({isOrth:e})=>{const{roomId:o}=Fe(),t=r.useRef(null),n=r.useRef(null),s=r.useRef(null),l=r.useRef(null),a=Ot(h=>h.setGameRef),c=Be(h=>h.wsId),[i,f]=r.useState(0),u=Re(h=>h.send),{camera:d}=Nr(),v=new Rt(-20,-20),C=new Rt(20,20);r.useEffect(()=>{const h=l.current;if(!h)return;const w=new Pr().subVectors(d.position,h.target),b=()=>{const x=h.target,N=Nt.clamp(x.x,v.x,C.x),M=Nt.clamp(x.y,v.y,C.y);x.x===N&&x.y===M||(x.set(N,M,x.z),d.position.set(x.x+w.x,x.y+w.y,x.z+w.z),d.updateProjectionMatrix(),h.update())};return h.addEventListener("change",b),()=>h.removeEventListener("change",b)},[d]),r.useEffect(()=>{a(t)},[a]);const y=$(h=>h.games),g=$(h=>h.roomStatus);r.useEffect(()=>{const h=t.current;if(g==="Gaming"){const w=y[y.length-1];w&&h?.setWsSenderGameId(w)}else h?.setWsSenderGameId(void 0)},[y,g]);const S=$(h=>h.users);return r.useEffect(()=>{const h=t.current,w=S.map(x=>({wsId:x.wsId,nickName:x.nickName})),b={...h?.getBoards()};for(const[,{wsId:x,nickName:N}]of w.entries())b[x]?delete b[x]:(x===c?h?.createMulitPlayerBoard(x,N):h?.createMultiSubBoard(x,N),x===c&&(()=>{if(o){const A=y[y.length-1];A&&u(JSON.stringify({type:"gameSync",data:{gameId:A,roomId:o}}))}})());for(const[x]of Object.entries(b))console.log("delete",x),h?.deleteBoard(x)},[c,S]),r.useEffect(()=>{S.length===1?f(0):f(13)},[S]),E($e,{children:[e?m(Ar,{makeDefault:!0,ref:s,position:[i,0,10],near:1,far:12,zoom:20}):m(Mr,{makeDefault:!0,ref:n,position:[13,0,100],near:.1,far:5e3}),m(_r,{ref:l,target:[i,0,0],enableRotate:!1,mouseButtons:{LEFT:It.PAN,RIGHT:It.PAN},touches:{ONE:Et.PAN,TWO:Et.DOLLY_PAN}}),m("ambientLight",{intensity:1}),[0,Math.PI/2,Math.PI,3*Math.PI/2].map((h,w)=>{const b=Math.cos(h)*100,x=Math.sin(h)*100;return m("directionalLight",{position:[b,100,x],intensity:1},w)}),m(Lr,{ref:t,send:u})]})},bs=()=>{const[e,o]=r.useState(!1);return E($e,{children:[E(W,{direction:"column",css:V`
          background-color: rgba(255, 255, 255, 0.7);
          position: absolute;
          padding: 0.5rem;
          left: 0;
          top: 0;
          width: 250px;
          /* height: 300px; */
          border: 1px solid black;
          pointer-events: none;
          /* z-index: 1; */
        `,children:[m(W,{css:V`
            justify-content: end;
          `,children:m(le,{onClick:()=>o(!e),onKeyDown:t=>{t.code==="Space"&&t.preventDefault()},css:V`
              width: 32px;
              height: 32px;
              padding: 0;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              z-index: 1;
              pointer-events: auto;
            `,children:e?m("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M14.7649 6.07596C14.9991 6.22231 15.0703 6.53079 14.9239 6.76495C14.4849 7.46743 13.9632 8.10645 13.3702 8.66305L14.5712 9.86406C14.7664 10.0593 14.7664 10.3759 14.5712 10.5712C14.3759 10.7664 14.0593 10.7664 13.8641 10.5712L12.6011 9.30817C11.805 9.90283 10.9089 10.3621 9.93375 10.651L10.383 12.3277C10.4544 12.5944 10.2961 12.8685 10.0294 12.94C9.76267 13.0115 9.4885 12.8532 9.41704 12.5865L8.95917 10.8775C8.48743 10.958 8.00036 10.9999 7.50001 10.9999C6.99965 10.9999 6.51257 10.958 6.04082 10.8775L5.58299 12.5864C5.51153 12.8532 5.23737 13.0115 4.97064 12.94C4.7039 12.8686 4.5456 12.5944 4.61706 12.3277L5.06625 10.651C4.09111 10.3621 3.19503 9.90282 2.3989 9.30815L1.1359 10.5712C0.940638 10.7664 0.624058 10.7664 0.428798 10.5712C0.233537 10.3759 0.233537 10.0593 0.428798 9.86405L1.62982 8.66303C1.03682 8.10643 0.515113 7.46742 0.0760677 6.76495C-0.0702867 6.53079 0.000898544 6.22231 0.235065 6.07596C0.469231 5.9296 0.777703 6.00079 0.924058 6.23496C1.40354 7.00213 1.989 7.68057 2.66233 8.2427C2.67315 8.25096 2.6837 8.25972 2.69397 8.26898C4.00897 9.35527 5.65537 9.99991 7.50001 9.99991C10.3078 9.99991 12.6564 8.5063 14.076 6.23495C14.2223 6.00079 14.5308 5.9296 14.7649 6.07596Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})}):m("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})})})}),E(W,{direction:"column",css:V`
            display: ${e?"none":"block"};
            pointer-events: none;
            /* z-index: 1; */
          `,children:[m(Cs,{}),m(Rs,{})]}),m(Ts,{})]}),m(Ps,{}),m(Ns,{})]})},Cs=()=>{const e=$(n=>n.isGameResultOpen),[o,t]=r.useState("roomInfo");return r.useEffect(()=>{e&&t("results")},[e]),E(lr,{defaultValue:"roomInfo",value:o,onValueChange:t,css:V`
        pointer-events: auto;
        width: 100%;
      `,children:[E(cr,{children:[m(Me,{value:"roomInfo",children:"Room"}),m(Me,{value:"userInfo",children:"User"}),m(Me,{value:"results",children:"Result"})]}),E(ze,{pt:"3",css:V`
          pointer-events: auto;
          width: 100%;
          /* height: 250px; */
          max-height: 250px;
          min-height: 200px;
          overflow: auto;
        `,children:[m(De,{value:"roomInfo",children:m(xs,{})}),m(De,{value:"userInfo",children:m(ys,{})}),m(De,{value:"results",children:m(Es,{})})]})]})},xs=()=>{const{roomId:e}=Fe(),o=Re(d=>d.send),t=$(d=>d.roomName),n=$(d=>d.users),s=$(d=>d.roomStatus),l=$(d=>d.gameType),a=$(d=>d.hostUser),c=Be(d=>d.wsId),i=a?.wsId===c,f=()=>{l==="MultiBattle"&&n.length===1||e&&o(JSON.stringify({type:"roomGameStart",data:{roomId:e}}))},u=d=>{e&&o(JSON.stringify({type:"roomGameTypeChange",data:{roomId:e,gameType:d}}))};return E(W,{direction:"column",children:[E(ae,{children:["방제목: ",t]}),E(ae,{children:["방상태: ",s]}),E(ae,{children:["방장: ",a?.nickName]}),E(ae,{children:["게임모드: ",l??""]}),i&&E(Jo,{defaultValue:l??"MultiScore",onValueChange:u,disabled:s!=="Waiting",children:[m(Qo,{}),m(er,{children:E(tr,{children:[m(or,{children:"GameType"}),m(Le,{value:"MultiScore",children:"Score"}),m(Le,{value:"Multi40Line",children:"40Line"}),m(Le,{value:"MultiBattle",children:"Battle(최소 2명)"})]})})]}),i&&s==="Waiting"?m(le,{variant:"classic",onClick:f,onKeyDown:d=>{d.code==="Space"&&d.preventDefault()},children:"GAME START"}):m($e,{})]})},ys=()=>{const e=$(n=>n.users),o=Be(n=>n.wsId),t=$(n=>n.hostUser);return m(W,{direction:"column",children:e.sort((n,s)=>n.wsId===o?-1:s.wsId===o?1:0).map(n=>E(ae,{children:["- ",n.nickName," ",n.wsId==o?"(본인)":""," ",t?.wsId==n.wsId?"(방장)":""]},n.wsId))})},Ts=()=>{const e=jt();return E(W,{css:V`
        margin-top: 1rem;
        pointer-events: auto;
        justify-content: space-between;
      `,children:[m(le,{color:"crimson",variant:"soft",onClick:()=>e("/"),children:"나가기"}),m(As,{})]})},Rs=()=>{const e=$(d=>d.chats),{roomId:o}=Fe(),[t,n]=r.useState(""),s=Re(d=>d.send),l=r.useRef(null),[a,c]=r.useState(!1),i=r.useRef(null);r.useEffect(()=>{i.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},[e]);const f=()=>{if(o){const d=t.trim();console.log("Send: ",d),s(JSON.stringify({type:"roomChat",data:{msg:t,roomId:o}})),n(""),l.current?.focus()}},u=d=>{d.key==="Enter"&&!a&&(d.preventDefault(),f())};return E(ze,{css:V`
        margin-top: 1rem;
        pointer-events: auto;
      `,children:[m(W,{direction:"column",css:V`
          height: 20vh;
          overflow: auto;
          overflow-wrap: break-word;
          word-break: break-word;
          white-space: pre-wrap;
        `,children:E(W,{direction:"column",css:V`
            flex: 1;
            font-size: 12px;
          `,children:[e.map((d,v)=>E(W,{css:V`
                width: 10wh;
              `,children:[E(ae,{children:["[",Ht(new Date(d.timestamp),"HH:mm:ss"),"]"]}),E(ae,{children:["<",d.user.nickName,">",": "]}),m(ae,{children:d.msg})]},`${d.timestamp}_${v}`)),m("div",{ref:i})]})}),E(W,{css:V`
          width: 100%;
        `,children:[m(Er,{css:V`
            flex: 1;
            width: 100%;
          `,ref:l,placeholder:"message...",value:t,onChange:d=>n(d.target.value),onKeyDown:u,onCompositionStart:()=>c(!0),onCompositionEnd:()=>c(!1),maxLength:100}),m(le,{onClick:f,children:"전송"})]})]})},Es=()=>{const e=$(o=>o.gameResult);return m(W,{direction:"column",css:V`
        /* width: 15vw; */
        /* max-height: 400px; */
        /* overflow-y: auto; */
      `,children:e.map((o,t)=>m(Is,{idx:t,gameResult:o},t))})},Is=({idx:e,gameResult:o})=>{const t=$(l=>l.isGameResultOpen),n=$(l=>l.setIsGameResultOpen),s=$(l=>l.gameResult);return E($t,{open:s.length===e+1?t:void 0,onOpenChange:s.length===e+1?n:void 0,children:[m(kt,{children:E(le,{variant:"classic",color:"bronze",onKeyDown:l=>{l.code==="Space"&&l.preventDefault()},css:V`
            margin-top: 3px;
          `,children:["#",e+1," ",o.gameType]})}),E(Vt,{children:[E(Ft,{children:["#",e+1," ",o.gameType," Result"]}),E(rr,{css:V`
            max-height: 400px;
            overflow-y: auto;
          `,children:[m(nr,{children:E(ht,{children:[m(ge,{children:"No"}),m(ge,{children:"NickName"}),m(ge,{children:"Elapsed"}),m(ge,{children:"Score"}),m(ge,{children:"Line"})]})}),m(sr,{children:o.gameResultInfo.map((l,a)=>E(ht,{children:[m(ar,{children:a+1}),m(Te,{children:l.nickName}),m(Te,{children:`${Ht(new Date(l.elapsed??0),"mm:ss:SS")}`}),m(Te,{children:l.score}),m(Te,{children:l.clearLine})]},a))})]}),m(W,{gap:"3",mt:"4",justify:"end",children:m(Bt,{children:m(le,{children:"Close"})})})]})]})},Ns=()=>m(ze,{css:V`
        position: absolute;
        pointer-events: auto;
        /* border: 1px solid red; */
        bottom: 1%;
        /* width: 100%; */
        /* height: 100%; */
        left: 50%;
        transform: translate(-50%, 0%);
      `,children:m(Dr,{})}),Ps=()=>{const e=$(o=>o.gameStartTimer);return m($e,{children:e!==0&&m(W,{css:V`
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          `,children:m(W,{css:V`
              border: 1px solid black;
              width: 100px;
              height: 100px;
              background: white;
              justify-content: center;
              align-items: center;
              font-size: 50px;
              border-radius: 10px;
            `,children:e})})})},As=()=>E($t,{children:[m(kt,{children:m(le,{variant:"classic",color:"cyan",onKeyDown:e=>{e.code==="Space"&&e.preventDefault()},children:"Help"})}),E(Vt,{maxWidth:"450px",children:[m(Ft,{children:"Help"}),m("strong",{children:"게임모드"}),m("br",{}),"Score: 스코어가 가장 높은 사람이 1등 ",m("br",{}),"40Line: 40라인을 가장 먼저 만드는 사람이 1등 ",m("br",{}),"Battle: 서로에게 공격 및 방어하며 최후의 1인이 1등 ",m("br",{}),"(게임모드는 방장만 조작 가능)",m("br",{}),m("br",{}),m("br",{}),m("strong",{children:"조작법"})," ",m("br",{}),"블럭 왼쪽 움직이기: 화살표 왼키 ",m("br",{}),"블럭 오른쪽 움직이기: 화살표 오른키 ",m("br",{}),"블럭 시계방향 회전: 화살표 위키 ",m("br",{}),"블럭 반시계방향 회전: Z 키 ",m("br",{}),"블럭 소프트 드랍: 화살표 아래키 ",m("br",{}),"블럭 하드 드랍: 스페이스바 ",m("br",{}),"블럭 홀드: 시프트키 ",m("br",{}),m("br",{}),m("br",{}),m("strong",{children:"마우스"}),m("br",{}),"휠: 카메라 줌 인아웃",m("br",{}),"좌,우: 카메라 이동",m("br",{}),m(W,{gap:"3",mt:"4",justify:"end",children:m(Bt,{children:m(le,{children:"Close"})})})]})]});export{Hs as default};
