const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Perf-DDeaUG51.js","assets/index-CiXcBVMD.js","assets/index-B7GaFbHf.css","assets/leva.esm-TSYhFM5E.js"])))=>i.map(i=>d[i]);
import{w as d,A as a,x as i,C as m,af as u,ag as l,O as b,F as h,r as c,ai as f,G as p}from"./index-CiXcBVMD.js";import{u as I,b as t,f as T}from"./leva.esm-TSYhFM5E.js";import{R,C}from"./ClientTetris-C3Hz5_Bq.js";const x=u.lazy(()=>l(()=>import("./Perf-DDeaUG51.js"),__vite__mapDeps([0,1,2,3]))),y=()=>d("div",{css:i`
        height: 100dvh;
      `,children:[a("h1",{css:i`
          position: absolute;
        `,children:"TestR3fClientPage"}),d(m,{onCreated:()=>{},orthographic:!0,children:[a(b,{makeDefault:!0,position:[0,0,1],zoom:20}),a(h,{target:[0,0,0],enableRotate:!1}),a(x,{position:"bottom-left"}),a("ambientLight",{intensity:2}),[0,Math.PI/2,Math.PI,3*Math.PI/2].map((r,o)=>{const s=Math.cos(r)*100,e=Math.sin(r)*100;return a("directionalLight",{position:[s,100,e],intensity:2},o)}),d("mesh",{children:[a("boxGeometry",{}),a("meshBasicMaterial",{color:"red"})]}),a(P,{})]})]}),P=()=>{const r=c.useRef(null),o=c.useRef(new R);f((e,n)=>{o.current.frame(n)});function s(e){const n=performance.now()+e;for(;performance.now()<n;);}return I({boardId:{value:"HI",label:"boardId"},createPlayerBoard:t(e=>{r.current?.createPlayerBoard(e("boardId"),e("boardId"))}),creatSubBoard:t(e=>{r.current?.createSubBoard(e("boardId"),e("boardId"))}),deleteBoard:t(e=>{r.current?.deleteBoard(e("boardId"))}),Timer:T({timerOn:t(e=>{r.current?.boardTimerOn(e("boardId"))}),timerOff:t(e=>{r.current?.boardTimerOff(e("boardId"))}),timerReset:t(e=>{r.current?.boardTimerReset(e("boardId"))})}),gameStart:t(()=>{r.current?.gameStart()}),boardSetup:t(e=>{r.current?.setup(e("boardId"),{hold:"T",next:["I","J","L","O","S"]})}),boardMove:t(e=>{r.current?.moveBoard(e("boardId"),{position:[0,0,0],rotation:[0,0,0],scale:[1.5,1.5,1.5]})}),spawnFromNext:t(e=>{r.current?.spawnFromNext(e("boardId"))}),step:t(e=>{r.current?.step(e("boardId"))}),testRaTimeout:t(()=>{s(500)})}),a(p,{children:a(C,{ref:r})})};export{y as default};
