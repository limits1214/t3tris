import{a9 as x,n as p,ac as m,j as s,ad as g,r,p as c}from"./index-jMaDAuLj.js";const C=()=>{const{accessToken:o}=x(),e=p(n=>n.readyState),i=m(e);return s.jsxs("div",{children:[s.jsx(g,{}),s.jsx("h1",{children:"TestWsPage"}),s.jsxs("p",{children:["connectionStatus: ",i]}),s.jsxs("p",{children:["access_token: ",o]}),s.jsx("hr",{}),s.jsx(y,{}),s.jsx("hr",{}),s.jsx("hr",{}),s.jsx(S,{})]})},y=()=>{const o=p(t=>t.send),[e,i]=r.useState(""),[n,a]=r.useState(""),h=()=>{console.log("subscribe click! topic: ",e),o(JSON.stringify({type:"subscribeTopic",data:{topic:e}}))},d=()=>{console.log("unsubscribe click! topic: ",e),o(JSON.stringify({type:"unSubscribeTopic",data:{topic:e}}))},j=()=>{console.log("topicEcho click! topic: ",n),o(JSON.stringify({type:"topicEcho",data:{topic:e,msg:n}}))},[l,u]=r.useState(""),b=()=>{o(JSON.stringify({type:"echo",data:{msg:l}}))};return s.jsxs("div",{children:[s.jsx("h4",{children:"Topic"}),s.jsxs("div",{children:[s.jsx("p",{children:"echo"}),s.jsx("input",{type:"text",onChange:t=>u(t.target.value)}),s.jsx("button",{onClick:b,children:"echo"})]}),s.jsx("hr",{}),s.jsxs("div",{children:[s.jsx("p",{children:"subscribe/unsubscribe topic"}),s.jsx("input",{type:"text",onChange:t=>i(t.target.value)}),s.jsx("button",{onClick:h,children:"subscribe"}),s.jsx("button",{onClick:d,children:"unsubscribe"})]}),s.jsxs("div",{children:[s.jsx("p",{children:"topicEhco"}),s.jsx("input",{type:"text",onChange:t=>a(t.target.value)}),s.jsx("button",{onClick:j,children:"topic echo"})]})]})},S=()=>{const o=p(t=>t.send),e=c(t=>t.roomId),i=c(t=>t.roomName),n=c(t=>t.hostUser),a=c(t=>t.users),h=c(t=>t.chats),d=c(t=>t.leave),[j,l]=r.useState(""),u=()=>{if(!e)return;o(JSON.stringify({type:"roomChat",data:{roomId:e,msg:j}}))},b=()=>{if(!e)return;o(JSON.stringify({type:"roomLeave",data:{roomId:e}})),d()};return s.jsxs("div",{children:[s.jsx("h4",{children:"Room"}),s.jsxs("p",{children:["roomId: ",e]}),s.jsxs("p",{children:["roomName: ",i]}),s.jsxs("p",{children:["hostUser: ",JSON.stringify(n)]}),s.jsxs("p",{children:["users: ",JSON.stringify(a)]}),s.jsx("label",{children:"chat"}),s.jsx("input",{type:"text",onChange:t=>l(t.target.value)}),s.jsx("button",{onClick:u,children:"chat"}),s.jsx("br",{}),s.jsx("button",{onClick:b,children:"roomLeave"}),s.jsx("button",{onClick:()=>{o(JSON.stringify({type:"roomGameReady",data:{roomId:e}}))},children:"game ready"}),s.jsx("button",{onClick:()=>{o(JSON.stringify({type:"roomGameUnReady",data:{roomId:e}}))},children:"game unready"}),s.jsx("button",{onClick:()=>{o(JSON.stringify({type:"roomGameStart",data:{roomId:e}}))},children:"game start"}),s.jsx("br",{}),h.map(t=>s.jsxs("div",{children:["[",t.timestamp,"][",t.user.nickName,"]: ",t.msg]},t.timestamp))]})};export{C as default};
